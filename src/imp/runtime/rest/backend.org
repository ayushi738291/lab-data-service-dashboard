#+TITLE: Backend for Lab Data Service Dashboard
#+AUTHOR: VLEAD
#+DATE: [2017-06-05 Mon]
#+SETUPFILE: ../../org-templates/level-2.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil

* Introduction 
  This document illustrates the backend of users and roles for the LDS Dashboard.
* Models
** User
#+BEGIN_SRC 
class User(db.Model):
	__tablename__ = 'users'
	id = db.Column(db.Integer,autoincrement=True)
	name = db.Column(db.String(255))
	email = db.Column(db.String(255),primary_key=True,unique=True)
	role = db.Column(db.Integer)

	def __init__(self, name, email,role):
		self.name = name
		self.email = email
		self.role = role
    
	def to_dict(self):
		return {
			'id' : self.id,
			'name': self.name,
			'email': self.email,
			'role' : self.role
		}

#+END_SRC

** Roles
#+BEGIN_SRC 
class Roles(db.Model):
    __tablename__ = 'roles'
    id = db.Column(db.Integer,autoincrement=True)
    role_name = db.Column(db.String(255),primary_key=True)

    def __init__(self,role):
        self.role_name = role
    
    def to_dict(self):
        return {
            'id' : self.id,
            'role': self.role_name,
        }

#+END_SRC
