#+TITLE: Configuration
#+AUTHOR: VLEAD
#+DATE: [2017-06-06 Tue]
#+SETUPFILE: ../../org-templates/level-2.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil

* Introduction

This holds the application's configuration parameters.


* Flask Application Configuration
  Configuration for the flask application. 
#+NAME: flask_app_config
#+BEGIN_SRC python
import os
import flask_sqlalchemy

# Define the application directory
basedir = os.path.abspath(os.path.dirname(__file__))

SQLALCHEMY_DATABASE_URI = 'sqlite:///' + os.path.join(basedir, "app.db")
DATABASE_CONNECT_OPTIONS = {}
SQLALCHEMY_TRACK_MODIFICATIONS = False

# Application threads. A common general assumption is
# using 2 per available processor cores - to handle
# incoming requests using one and performing background
# operations using the other.
THREADS_PER_PAGE = 2

# Enable protection agains *Cross-site Request Forgery (CSRF)*
CSRF_ENABLED     = True

SECRET_KEY = os.urandom(13)

# TESTING AND DECORATOR BYPASS
LOGIN_REQUIRED = True
TESTING = False

#+END_SRC


* System Config
#+NAME: system_config
#+BEGIN_SRC python
#Fill the value during deployment.  Generate the key. 
KEY="defaultkey"

#+END_SRC


* Tangling                                                      :boilerplate:
** flask_app_config
#+BEGIN_SRC python :tangle config.py :eval no :noweb yes
<<flask_app_config>>
#+end_src


** system_config
#+BEGIN_SRC python :tangle system_config.py :eval no :noweb yes
<<system_config>>
#+end_src
